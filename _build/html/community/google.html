

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Google &mdash; IQNOMY 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="IQNOMY 1.0 documentation" href="../index.html"/>
        <link rel="up" title="Community" href="index.html"/>
        <link rel="next" title="Extra documentation" href="extradocumentation.html"/>
        <link rel="prev" title="Usecases" href="usecases.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> IQNOMY
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../starthere/index.html">Start here</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../starthere/fiveminute.html">Five minute install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../starthere/gettingstarted.html">Getting started</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../administrators/index.html">Administrators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../administrators/useraccount.html">User account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../administrators/liquidaccount.html">Liquid Account</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../integrations/index.html">Integrations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../integrations/website.html">Website</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/magento.html">Magento</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/seoshop.html">SEOshop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/mailchimp.html">MailChimp</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/mailplus.html">MailPlus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/copernica.html">Copernica</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developers/websitescript.html">Websitescript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/websitescript.html#filter-ip-adress">Filter IP adress</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/profile.html">Profile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/profile.html#add-data-to-profile">Add data to profile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/profile.html#get-profile-data">Get profile data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/liquidcontentdev.html">Liquid containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/apis.html">API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/apis.html#event-api">Event api</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/hooks.html">Software hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developers/thirdparty.html">Third-party</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Community</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="faq.html">English FAQ&#8217;s</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#nederlandse-faq-s">Nederlandse FAQ&#8217;s</a></li>
<li class="toctree-l2"><a class="reference internal" href="usecases.html">Usecases</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Google</a></li>
<li class="toctree-l2"><a class="reference internal" href="extradocumentation.html">Extra documentation</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">IQNOMY</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Community</a> &raquo;</li>
      
    <li>Google</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="google">
<h1><a class="toc-backref" href="#id1">Google</a><a class="headerlink" href="#google" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#google" id="id1">Google</a><ul>
<li><a class="reference internal" href="#google-tagmanager" id="id2">Google Tagmanager</a></li>
<li><a class="reference internal" href="#google-event-tracking" id="id3">Google event tracking</a><ul>
<li><a class="reference internal" href="#standard" id="id4">Standard</a><ul>
<li><a class="reference internal" href="#oplossing" id="id5">Oplossing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#universal" id="id6">Universal</a></li>
</ul>
</li>
<li><a class="reference internal" href="#filtering-in-iqnomy-from-google-analytics" id="id7">Filtering in IQNOMY from Google analytics</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="google-tagmanager">
<h2><a class="toc-backref" href="#id2">Google Tagmanager</a><a class="headerlink" href="#google-tagmanager" title="Permalink to this headline">¶</a></h2>
<p>Using the Google Tagmanager to integrate the IQNOMY script in your website.</p>
<img alt="../_images/Step1Tag.png" src="../_images/Step1Tag.png" />
<img alt="../_images/Step2Tag.png" src="../_images/Step2Tag.png" />
<img alt="../_images/Step3Tag.png" src="../_images/Step3Tag.png" />
<img alt="../_images/Step4Tag.png" src="../_images/Step4Tag.png" />
<img alt="../_images/Step5Tag.png" src="../_images/Step5Tag.png" />
<img alt="../_images/Step6Tag.png" src="../_images/Step6Tag.png" />
<img alt="../_images/Step7Tag.png" src="../_images/Step7Tag.png" />
<img alt="../_images/Step8Tag.png" src="../_images/Step8Tag.png" />
<img alt="../_images/Step9Tag.png" src="../_images/Step9Tag.png" />
<img alt="../_images/Step10Tag.png" src="../_images/Step10Tag.png" />
<img alt="../_images/Step11Tag.png" src="../_images/Step11Tag.png" />
</div>
<div class="section" id="google-event-tracking">
<h2><a class="toc-backref" href="#id3">Google event tracking</a><a class="headerlink" href="#google-event-tracking" title="Permalink to this headline">¶</a></h2>
<div class="section" id="standard">
<h3><a class="toc-backref" href="#id4">Standard</a><a class="headerlink" href="#standard" title="Permalink to this headline">¶</a></h3>
<p>Omdat google event niet altijd werd uitgevoerd op de door Google beschreven
manier. Hebben we dit onderzocht.</p>
<p>Vermoedelijk wordt de trackEvent in de onclick afgebroken doordat de link in de href (te snel) gevolgd wordt.
In het verleden heeft dit wel goed gewerkt, mogelijk is er iets veranderd in het Google script (asynchrone trackEvent?) waardoor dit anders is gaan werken.</p>
<p>Na wat zoeken:</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/17361992/google-analytics-events-canceled">http://stackoverflow.com/questions/17361992/google-analytics-events-canceled</a>
<a class="reference external" href="https://support.google.com/analytics/answer/1136920?hl=en-GB">https://support.google.com/analytics/answer/1136920?hl=en-GB</a>
<a class="reference external" href="https://developers.google.com/analytics/devguides/collection/analyticsjs/advanced#hitCallback">https://developers.google.com/analytics/devguides/collection/analyticsjs/advanced#hitCallback</a></p>
<p>Gezien de bovenstaande artikelen lijkt het alsof het toeval is dat het eerder wel gewerkt heeft</p>
<div class="section" id="oplossing">
<h4><a class="toc-backref" href="#id5">Oplossing</a><a class="headerlink" href="#oplossing" title="Permalink to this headline">¶</a></h4>
<p>De oplossing lijkt om een time-out in te bouwen bij elke link waar trackEvent toegepast wordt.</p>
<div class="highlight-javascript"><div class="highlight"><pre>&lt;script type=&quot;text/javascript&quot;&gt;
function trackOutboundLink(link, category, action) {
   try {
      _gaq.push([&#39;_trackEvent&#39;, category , action]);
   } catch(err){}

   setTimeout(function() {
      document.location.href = link.href;
   }, 100);
}
&lt;/script&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="universal">
<h3><a class="toc-backref" href="#id6">Universal</a><a class="headerlink" href="#universal" title="Permalink to this headline">¶</a></h3>
<p>Er komt een nieuwe versie van analytics, genaamd Universal Analytics. Hier twee voorbeelden van de oude en nieuwe variant.
Classic Analytics ga.js</p>
<p><a class="reference external" href="https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide?hl=nl">https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide?hl=nl</a>
Specification:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">_trackEvent</span><span class="p">(</span><span class="nx">category</span><span class="p">,</span> <span class="nx">action</span><span class="p">,</span> <span class="nx">opt_label</span><span class="p">,</span> <span class="nx">opt_value</span><span class="p">,</span> <span class="nx">opt_noninteraction</span><span class="p">)</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre>&lt;a href=&quot;#&quot; onClick=&quot;_gaq.push([&#39;_trackEvent&#39;, &#39;Videos&#39;, &#39;Play&#39;, &#39;Baby\&#39;s First Birthday&#39;]);&quot;&gt;Play&lt;/a&gt;
</pre></div>
</div>
<p>Universal Analytics analytics.js</p>
<p><a class="reference external" href="https://developers.google.com/analytics/devguides/collection/analyticsjs/events?hl=nl">https://developers.google.com/analytics/devguides/collection/analyticsjs/events?hl=nl</a>
Specification:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">ga</span><span class="p">(</span><span class="s1">&#39;send&#39;</span><span class="p">,</span> <span class="s1">&#39;event&#39;</span><span class="p">,</span> <span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;nonInteraction&#39;</span><span class="o">:</span> <span class="mi">1</span><span class="p">});</span>  <span class="c1">// value is a number.</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-javascript"><div class="highlight"><pre>&lt;a href=&quot;#&quot; onClick=&quot;ga(&#39;send&#39;, &#39;event&#39;, &#39;Videos&#39;, &#39;Play&#39;, &#39;Baby\&#39;s First Birthday&#39;);&quot;&gt;Play&lt;/a&gt;
</pre></div>
</div>
<div class="highlight-javascript"><div class="highlight"><pre>&lt;script type=&quot;text/javascript&quot;&gt;
function trackOutboundLink(link, category, action) {
   try {
      _gaq.push([&#39;_trackEvent&#39;, category , action]);
   } catch(err){}

   setTimeout(function() {
      document.location.href = link.href;
   }, 100);
}
&lt;/script&gt;
</pre></div>
</div>
<div class="highlight-javascript"><div class="highlight"><pre><span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;http://www.example.com&quot;</span> <span class="nx">onClick</span><span class="o">=</span><span class="s2">&quot;trackOutboundLink(this, &#39;Outbound Links&#39;, &#39;example.com&#39;); return false;&quot;</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="filtering-in-iqnomy-from-google-analytics">
<h2><a class="toc-backref" href="#id7">Filtering in IQNOMY from Google analytics</a><a class="headerlink" href="#filtering-in-iqnomy-from-google-analytics" title="Permalink to this headline">¶</a></h2>
<p>To collect content en thumbs of your website IQNOMY visits the URL&#8217;s from your website. Search engines do the same thing to collect this data. Filter these statistics out of you website statistics based on the useragent <em>Iqnomybot</em>.</p>
<p>IQNOMY analyses your website. The webstatistics application you use can be influenced in the statistics. We perform two actions regarding your website.</p>
<ol class="arabic simple">
<li>Make a <em>thumb</em> of your websitepage. This thumb is a small screenshot of your webpage.</li>
<li><em>Crawl</em> content. If a visitor visits our website we get the same URL the visitor has in the browser. You can strip parts of this URL. Example: A visitor visits IQNOMY&#8217;s website and asks a question. The URL will be: <a class="reference external" href="http://www.iqnomy.com/search/search.php?question=statistics">http://www.iqnomy.com/search/search.php?question=statistics</a></li>
</ol>
<p>This is an unique URL and we would get the content and make a thumb of this URL. By stripping the URL&#8217;s IQNOMY has a <em>clean</em> URL to visit. <a class="reference external" href="http://www.iqnomy.com/search/search.php">http://www.iqnomy.com/search/search.php</a></p>
<p>If you don&#8217;t do this other applications and your webstatistics can be influenced by the visit of IQNOMY.</p>
<p>The &#8216;Iqnomybot&#8217; is a so-called useragent. If a website is visited your site receives information from this visitor like browsertype. This browsertype is the useragent. This way a website can provide content suited for this useragent. e.g. Visitors with Internet Explorer 6 and 7 can have a different layout.</p>
<p>Useragent &#8216;Iqnomybot&#8217; has also an URL so systemadministrators can see what kind of visitor this is. This way the useragent can be filtered from statistics and applications.</p>
<p>Google Analytics provides you filter options. Filters are applied to the information coming into your account, to manipulate the final data in order to provide accurate reports. These filters can be set up to exclude visits from particular IP addresses, to report only on a subdomain or directory, or to take dynamic page URLs and convert them into readable text strings.</p>
<p>Google Analytics provides you with three predefined filter types, as well as a number of custom options. <a class="reference external" href="https://www.google.com/support/googleanalytics/bin/answer.py?answer=55593">https://www.google.com/support/googleanalytics/bin/answer.py?answer=55593</a></p>
<div class="figure">
<img alt="../_images/CreateFilter.png" src="../_images/CreateFilter.png" />
</div>
<ul class="simple">
<li>Custom filter</li>
<li>Exclude</li>
<li>Visitors ISP Organization</li>
<li>asknow solutions b.v.</li>
<li>Case sensitive: no</li>
<li>And select you website profile.</li>
</ul>
<p>See image below for configuration.</p>
<div class="figure">
<img alt="../_images/Filter.png" src="../_images/Filter.png" />
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="extradocumentation.html" class="btn btn-neutral float-right" title="Extra documentation" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="usecases.html" class="btn btn-neutral" title="Usecases" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, IQNOMY.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>